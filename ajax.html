<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <h1>Ajax demo</h1>
  <button type="button" >获取GITHUB用户信息</button>
  <p id="text"></p>
  <script src="http://cdn.bootcss.com/jquery/3.1.1/jquery.js"></script>
  <script>
  //JS 原生 Ajax get
    // var xmlhttp=new XMLHttpRequest();
    // xmlhttp.onreadystatechange=function(){
    //   if (xmlhttp.readyState==4 && xmlhttp.status==200){
    //     console.log(JSON.parse(xmlhttp.responseText))
    //       var resObj = JSON.parse(xmlhttp.responseText).posts;
    //       console.log(resObj)
    //       for(var i = 0;i < resObj.length;i++){
    //         console.log(resObj[i].content)
    //       }
    //     }
    //   }
    //
    // xmlhttp.open("GET","http://api.duopingshidai.com/api/posts",true);
    // xmlhttp.send();


  // JQ  Ajax get
    // $.ajax({
    //   url:"http://api.duopingshidai.com/api/posts",
    //   success:function(res,status){
    //     console.log(res,status);
    //   },
    //   error:function(xml,msg){
    //     console.log(xml,msg)
    //   }
    // })



//JQ Ajax post
  // var Obj = {phoneNumber:"2223445"};
  // var jsonObj = JSON.stringify(Obj);
  // $.ajax({
  //   type:"POST",
  //   data:jsonObj,
  //   contentType:"application/json",
  //   url:"http://digitalcity.duopingshidai.com/",
  //   success:function(res,status){
  //     console.log(res,status);
  //   },
  //   error:function(xml,msg){
  //     alert(msg)
  //   }
  // });


//JS 原生 post
var xmlhttp=new XMLHttpRequest();
xmlhttp.onreadystatechange=function(){
  if (xmlhttp.readyState==4 && xmlhttp.status==200){
    console.log(JSON.parse(xmlhttp.responseText))
    }
  }

xmlhttp.open("POST","http://digitalcity.duopingshidai.com/",true);
xmlhttp.setRequestHeader("Content-type","application/json");
var Obj={phoneNumber:"123123"};
var jsonObj = JSON.stringify(Obj);
xmlhttp.send(jsonObj);
  </script>
</body>
</html>
